// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
window.addEventListener('load', () => {
    const canvas = document.getElementById('gameCanvas');
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ canvas
    if (!canvas.getContext) {
        alert('–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Canvas. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä.');
        return;
    }
    
    try {
        // –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä—ã
        const game = new Game(canvas);
        
        // –î–ª—è –æ—Ç–ª–∞–¥–∫–∏
        window.game = game;
        
        console.log('üéÆ –ò–≥—Ä–∞ "Pixel Jumper" —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!');
        console.log('üìã –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–≥—Ä—ã:');
        console.log('- 3 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —É—Ä–æ–≤–Ω—è —Å —Ä–∞–∑–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é');
        console.log('- –ù–µ–ª—å–∑—è —É–ø–∞—Å—Ç—å —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º (–µ—Å—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã)');
        console.log('- 60 —Å–µ–∫—É–Ω–¥ –Ω–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è');
        console.log('- 3 –∂–∏–∑–Ω–∏, –ø–æ—Å–ª–µ –ø–æ—Ç–µ—Ä–∏ –≤—Å–µ—Ö - game over');
        console.log('- –°–±–æ—Ä –º–æ–Ω–µ—Ç –¥–∞–µ—Ç –æ—á–∫–∏');
        console.log('- –î–≤–∏–∂—É—â–∏–µ—Å—è –∏ —Ö—Ä—É–ø–∫–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã');
        console.log('üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:');
        console.log('- A/D –∏–ª–∏ ‚Üê‚Üí –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è');
        console.log('- W/–ü–†–û–ë–ï–õ –¥–ª—è –ø—Ä—ã–∂–∫–∞');
        console.log('- P –¥–ª—è –ø–∞—É–∑—ã');
        console.log('- N –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)');
        console.log('üí° –¶–µ–ª—å: –°–æ–±—Ä–∞—Ç—å –≤—Å–µ –º–æ–Ω–µ—Ç—ã –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ –∑–∞ –æ—Ç–≤–µ–¥–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è!');
        
        // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
        setTimeout(() => {
            if (game.gameState === 'menu') {
                game.start();
                console.log('üöÄ –ò–≥—Ä–∞ –∑–∞–ø—É—â–µ–Ω–∞!');
            }
        }, 2000);
        
    } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–≥—Ä—ã:', error);
        alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–≥—Ä—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.');
    }
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
window.addEventListener('error', (event) => {
    console.error('–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞:', event.error);
});